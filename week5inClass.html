<html>
	<head>
	<title>Week 5 Adventure Game</title>
	<style>
		img {
			width: 500px;
		}
		div#output {
			width: 600px;
			height: 200px;
			background-color: x#FFF8E7;
			overflow-y: scroll;
		}
	</style>
</head>
	
	<body>
		<h1>Adventure Time</h1>
		
		<button id= "attackButton">Attack</button>
		<button id= "potionButton">Drink Potion</button>
		
		<p>Hero Name: <span id="heroName"></span></p>
		<p>Heros HP: <span id="heroHP"></span> </p>	
		<p>Enemy Name: <span id="enemyName"></span> </p>	
		<p>Enemy HP: <span id="enemyHP"></span> </p>

	
		<script src="human.js"></script>
		<script src="monsters.js"></script>
		<script src="items.js"></script>
		
		<img id = images1 src=''/>	
		<script>
		
		var attackButton = document.getElementById("attackButton");
		attackButton.addEventListener("click", skirmish);
		
		var potionButton = document.getElementById("potionButton")
		potionButton.addEventListener("click", potion)
		var heroName = document.getElementById("heroName");
		var heroHP = document.getElementById("heroHP");
		var enemyName = document.getElementById("enemyName");
		var enemyHP = document.getElementById("enemyHP");
		var num_potion = 1;
		console.log(human);			
			var game = {
				user: human,
				monsters: mobs,	
				current_enemy: {},
			}
			var current_enemy_index = generateRandomNumber(game.monsters.length);
   				console.log(current_enemy_index);
			var current_enemy = game.monsters[current_enemy_index];
				console.log(current_enemy);
				
				game.current_enemy = current_enemy;
			var images = [
                        {
                            name: "Gelatinous Cube",
							image: "https://www.epicpath.org/images/thumb/8/80/Gelatinous_cube.jpg/550px-Gelatinous_cube.jpg",
	
                        },
                        {
							name: "Orc",
							image: "https://i.pinimg.com/originals/b3/8c/19/b38c19c5188aa37ad4b26674de7b7162.jpg",
                        },
                        {
							name: "Snake King",
							image: "https://i.pinimg.com/originals/bb/50/43/bb5043df1ac0b108df3c74f6faff77ec.jpg"   
                        }
                    ];
				
			

			
		function generateRandomNumber(maxNumber){
		return Math.floor( Math.random() * maxNumber );
		}
		function updatePage(id){

		document.getElementById("images1").src = images[id].image;


}
		
		function skirmish(){
			game.current_enemy.hp = game.current_enemy.hp - game.user.damage;
			game.user.hp = game.user.hp - game.current_enemy.damage;
			console.log(game);
			
			if (game.user.hp <= 0){
				alert("You were slayn by the beast! Your journey has abruptly ended.")
			}
			else if(game.current_enemy.hp <=0){
				alert("You have slayn the beast! You live to see another day.")
				testDropSystem();
			}
			else{
				alert("Your attacks connect, yet both you and the beast still stand. The Battle rages on!")
			}
			heroName.innerText = game.user.name;
			heroHP.innerText = game.user.hp;
			enemyName.innerText = game.current_enemy.name;
			enemyHP.innerText = game.current_enemy.hp;
			//updatePage(current_enemy_index);
		}
		function potion(){
			if(num_potion == 1){
				
				game.user.hp = game.user.hp + 10;
				num_potion--;

			}

			 else if(num_potion <=0){
				
				alert("You backpack must have a hole because you dont have any more potions with you!");
			}

		}
		var imgTag = document.querySelectorAll("img")[0];

		

		updatePage(current_enemy_index);
	</script>
		

	</p>
</p>
	</body>
</html>